<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Components list | AWS Components</title>
    <meta name="description" content="Some AWS Components orchestration">
    
    
    <link rel="preload" href="/components-on-aws/assets/css/0.styles.66d2c2ce.css" as="style"><link rel="preload" href="/components-on-aws/assets/js/app.9887320d.js" as="script"><link rel="preload" href="/components-on-aws/assets/js/2.00d34b0c.js" as="script"><link rel="preload" href="/components-on-aws/assets/js/8.63c182a7.js" as="script"><link rel="prefetch" href="/components-on-aws/assets/js/3.f042f04f.js"><link rel="prefetch" href="/components-on-aws/assets/js/4.d595ab24.js"><link rel="prefetch" href="/components-on-aws/assets/js/5.d9f565c7.js"><link rel="prefetch" href="/components-on-aws/assets/js/6.b2a338bf.js"><link rel="prefetch" href="/components-on-aws/assets/js/7.25456d9e.js"><link rel="prefetch" href="/components-on-aws/assets/js/9.f68989a5.js">
    <link rel="stylesheet" href="/components-on-aws/assets/css/0.styles.66d2c2ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/components-on-aws/" class="home-link router-link-active"><!----> <span class="site-name">AWS Components</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/components-on-aws/" class="nav-link">Home</a></div><div class="nav-item"><a href="/components-on-aws/how-to.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://eu-west-1.console.aws.amazon.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AWS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/components-on-aws/language/french.html" class="nav-link">French</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/components-on-aws/" class="nav-link">Home</a></div><div class="nav-item"><a href="/components-on-aws/how-to.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://eu-west-1.console.aws.amazon.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AWS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/components-on-aws/language/french.html" class="nav-link">French</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/components-on-aws/" class="sidebar-link">Plateform components</a></li><li><a href="/components-on-aws/how-to.html" class="sidebar-link">Guide</a></li><li><a href="/components-on-aws/list.html" class="active sidebar-link">Composants</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#components-definition" class="sidebar-link">Components definition</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#component-base" class="sidebar-link">component-base</a></li><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#component-network" class="sidebar-link">component-network</a></li><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#component-kubernetes" class="sidebar-link">component-kubernetes</a></li><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#component-observability-infra" class="sidebar-link">component-observability-infra</a></li><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#component-observability-apps" class="sidebar-link">component-observability-apps</a></li><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#component-serverless-enable" class="sidebar-link">component-serverless-enable</a></li><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#component-grafana-eks" class="sidebar-link">component-grafana-eks</a></li><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#to-be-defined-component" class="sidebar-link">To be defined component</a></li></ul></li><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#composants-applicatifs" class="sidebar-link">Composants applicatifs</a></li><li class="sidebar-sub-header"><a href="/components-on-aws/list.html#other" class="sidebar-link">Other</a></li></ul></li><li><a href="/components-on-aws/exemples.html" class="sidebar-link">Examples</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="components-list"><a href="#components-list" class="header-anchor">#</a> Components list</h1> <p>Voici une liste des composants principaux:</p> <ul><li>component-base: c'est le composant minimum dans une plateforme</li> <li>component-network: permet de créer le networking</li> <li>component-kubernetes: contient le cluster k8s, sa gestion du réseau et les éléments indispensables</li> <li>component-observability-infra: permet d'observer l'infra</li> <li>component-observability-apps: permet d'observer les apps</li> <li>component-serverless-enable: active les élements permettant de profiter du serverless</li> <li>component-grafana-eks: pour installer un grafana dans eks</li> <li>component-batch: pour lancer un container</li></ul> <h2 id="components-definition"><a href="#components-definition" class="header-anchor">#</a> Components definition</h2> <h3 id="component-base"><a href="#component-base" class="header-anchor">#</a> component-base</h3> <p>Ce composent est necessaire pour créer une plateforme</p> <h4 id="ownership-for-component-base"><a href="#ownership-for-component-base" class="header-anchor">#</a> ownership for component-base</h4> <ul><li>team solution</li></ul> <h4 id="elements-for-component-base"><a href="#elements-for-component-base" class="header-anchor">#</a> elements for component-base</h4> <ul><li>public route53 SOA &quot;$plateform.accor.net&quot; (to be defined)</li> <li>activate CWL for api gateway</li> <li>aws cognito pour la gestion des utilisateurs &quot;admin&quot; (sauf si ping identity)
<ul><li>la liste des utilisateurs est fournis au component via le manifest</li></ul></li> <li>initie le chatops</li></ul> <h3 id="component-network"><a href="#component-network" class="header-anchor">#</a> component-network</h3> <p>Permet de créer l'ensemble des éléments du réseau</p> <h4 id="ownership-for-component-network"><a href="#ownership-for-component-network" class="header-anchor">#</a> ownership for component-network</h4> <ul><li>team réseau</li> <li>temps ops</li></ul> <h4 id="elements-for-component-network"><a href="#elements-for-component-network" class="header-anchor">#</a> elements for component-network</h4> <ul><li>VPC</li> <li>subnet</li> <li>subnet group</li> <li>routes table</li> <li>nat gateway</li> <li>egress only internet gateway</li> <li>route53 private zone</li></ul> <h3 id="component-kubernetes"><a href="#component-kubernetes" class="header-anchor">#</a> component-kubernetes</h3> <p>Permet d'avoir un kubernetes utilisable</p> <h4 id="dependance-de-component-kubernetes"><a href="#dependance-de-component-kubernetes" class="header-anchor">#</a> Dépendance de component-kubernetes</h4> <p>est dépendant de component-network</p> <h4 id="ownership-for-component-kubernetes"><a href="#ownership-for-component-kubernetes" class="header-anchor">#</a> ownership for component-kubernetes</h4> <ul><li>team solution</li></ul> <h4 id="elements-for-component-kubernetes"><a href="#elements-for-component-kubernetes" class="header-anchor">#</a> elements for component-kubernetes</h4> <ul><li>EKS avec
<ul><li>les masters managés</li> <li>un node pool de compute</li> <li>un node pool de ...</li> <li>installation / confirguration de Calico (ou cilium)</li></ul></li> <li>deux ingress controllers &quot;traefik&quot;
<ul><li>un pour les flux public</li> <li>un pour les flux d'aministration</li></ul></li> <li>un backend de stockage Rook (ceph) sur un NodePool de i3 (stockage des PVC en multi-az)</li> <li>cluster-autoscaler</li> <li>externalDNS</li> <li>kube2iam ou kiam ou service EKS</li></ul> <h3 id="component-observability-infra"><a href="#component-observability-infra" class="header-anchor">#</a> component-observability-infra</h3> <p>Créer les éléments d'observabilité de l'infratructure</p> <h4 id="dependance-de-component-observability-infra"><a href="#dependance-de-component-observability-infra" class="header-anchor">#</a> Dépendance de component-observability-infra</h4> <p>est dépendant de component-network</p> <h4 id="ownership-for-component-observability-infra"><a href="#ownership-for-component-observability-infra" class="header-anchor">#</a> ownership for component-observability-infra</h4> <ul><li>team solution</li></ul> <h4 id="elements-for-component-observability-infra"><a href="#elements-for-component-observability-infra" class="header-anchor">#</a> elements for component-observability-infra</h4> <ul><li><p>ES managé</p></li> <li><p>monitoring</p> <ul><li>un node exporter par EC2 (inclus node EKS)</li> <li>cloudwatch-exporter pour les services managés</li> <li>pushGateway pour les métriques lambdas métiers</li> <li>un prometheus (dans un ASG)
<ul><li>découverte via ec2_sd_config (https://prometheus.io/docs/prometheus/latest/configuration/configuration/#ec2_sd_config)</li></ul></li></ul></li> <li><p>alerting</p> <ul><li>AlertManager (dans un ASG)</li></ul></li> <li><p>logging</p> <ul><li>fluentd par EC2 (pour les node EKS uniquement les logs EC2)
<ul><li>=&gt; dans bucket s3</li> <li>=&gt; dans l'ES managé</li></ul></li></ul></li> <li><p>tracing</p> <ul><li>vers ES managé</li> <li>jaeger-operator dans EKS</li></ul></li> <li><p>Grafana sur EC2, branché par défaut sur</p> <ul><li>le prometheus sur EC2</li></ul></li></ul> <h3 id="component-observability-apps"><a href="#component-observability-apps" class="header-anchor">#</a> component-observability-apps</h3> <p>Map les métriques applicatives</p> <h4 id="dependance-de-component-observability-apps"><a href="#dependance-de-component-observability-apps" class="header-anchor">#</a> Dépendance de component-observability-apps</h4> <p>est dépendant de &quot;component-observability-infra&quot;</p> <h4 id="ownership-for-component-observability-apps"><a href="#ownership-for-component-observability-apps" class="header-anchor">#</a> ownership for component-observability-apps</h4> <ul><li>team solution</li></ul> <h4 id="elements-for-component-observability-apps"><a href="#elements-for-component-observability-apps" class="header-anchor">#</a> elements for component-observability-apps</h4> <ul><li>monitoring
<ul><li>dans EKS
<ul><li>prometheus-operator
<ul><li>un prometheus par namespace</li></ul></li></ul></li> <li>dans Lambda</li> <li>dans EC2</li></ul></li> <li>alerting
<ul><li>utiliser l'AlertManager sur vm ec2</li></ul></li> <li>logging
<ul><li>fluentd pour les logs apps
<ul><li>=&gt; dans bucket s3</li> <li>=&gt; dans l'ES managé</li></ul></li></ul></li> <li>tracing
<ul><li>vers ES managé</li> <li>dans EKS
<ul><li>jaeger-operator dans EKS</li></ul></li></ul></li></ul> <h3 id="component-serverless-enable"><a href="#component-serverless-enable" class="header-anchor">#</a> component-serverless-enable</h3> <p>Gère les dépendances des applictions lambda</p> <h4 id="dependances-for-component-serverless-enable"><a href="#dependances-for-component-serverless-enable" class="header-anchor">#</a> dependances for component-serverless-enable</h4> <p>est dépendant de component-network</p> <h4 id="ownership-for-component-serverless-enable"><a href="#ownership-for-component-serverless-enable" class="header-anchor">#</a> ownership for component-serverless-enable</h4> <ul><li>team solution</li></ul> <h4 id="elements-for-component-serverless-enable"><a href="#elements-for-component-serverless-enable" class="header-anchor">#</a> elements for component-serverless-enable</h4> <ul><li>configuration d'api-gateway</li> <li>lambda d'authentification</li> <li>...</li></ul> <h3 id="component-grafana-eks"><a href="#component-grafana-eks" class="header-anchor">#</a> component-grafana-eks</h3> <p>Ajout un grafana pour un namespace dans EKS</p> <h4 id="dependances-for-component-grafana-eks"><a href="#dependances-for-component-grafana-eks" class="header-anchor">#</a> dependances for component-grafana-eks</h4> <ul><li>component-kubernetes</li> <li>component-observability-apps</li> <li>component du projet</li></ul> <h4 id="ownership-for-component-grafana-eks"><a href="#ownership-for-component-grafana-eks" class="header-anchor">#</a> ownership for component-grafana-eks</h4> <ul><li>team solution</li></ul> <h4 id="elements-for-component-grafana-eks"><a href="#elements-for-component-grafana-eks" class="header-anchor">#</a> elements for component-grafana-eks</h4> <ul><li>helm chart grafana
<ul><li>oauth pluggé sur Cognito (ou idp ops)</li></ul></li></ul> <h3 id="to-be-defined-component"><a href="#to-be-defined-component" class="header-anchor">#</a> To be defined component</h3> <p>les composants à définir:</p> <ul><li>...</li></ul> <h2 id="composants-applicatifs"><a href="#composants-applicatifs" class="header-anchor">#</a> Composants applicatifs</h2> <p>Un composant peut également être une application
cf: https://www.12factor.net/fr/
cf: https://blog.wescale.fr/2019/08/22/la-nouvelle-stack-du-developpeur-backend-cloud-native/</p> <h2 id="other"><a href="#other" class="header-anchor">#</a> Other</h2> <p>https://Ext2-R1-119</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/components-on-aws/how-to.html" class="prev">Guide</a></span> <span class="next"><a href="/components-on-aws/exemples.html">Examples</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/components-on-aws/assets/js/app.9887320d.js" defer></script><script src="/components-on-aws/assets/js/2.00d34b0c.js" defer></script><script src="/components-on-aws/assets/js/8.63c182a7.js" defer></script>
  </body>
</html>
